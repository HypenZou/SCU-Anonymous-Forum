webpackJsonp([14],{UvYd:function(t,e){},igFZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IHPB"),l=a.n(s),o=a("wst3"),i=a("0T5Q"),n=function(t,e){try{if(localStorage.getItem("shieldCommentUserId"))e=JSON.parse(localStorage.getItem("shieldCommentUserId"))}catch(t){e=void 0}return e?(t.forEach(function(t){e.includes(t.commentUserId)&&(t.filterLevel=2)}),t):t},r={name:"replyMe",components:{MescrollVue:o.a},data:function(){return{tabs:0,ReplyMyComments:[],ReplyMyPosts:[],if_list_bottom1:!1,if_list_bottom2:!1,atTop:!0,mescrollDown1:{use:!1},mescrollUp1:{callback:this.getMoreData1,empty:{warpId:"noMoreDataWrap1",icon:null,tip:"暂无回复我的评论",btntext:"",btnClick:null,supportTap:!1}},mescrollDown2:{use:!1},mescrollUp2:{callback:this.getMoreData2,empty:{warpId:"noMoreDataWrap2",icon:null,tip:"暂无回复我的帖子",btntext:"",btnClick:null,supportTap:!1}}}},mounted:function(){},created:function(){sessionStorage.getItem("commentNumTemp")&&localStorage.setItem("commentNum",sessionStorage.getItem("commentNumTemp"))},methods:{timeFormat:function(t){var e=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3),a=Math.floor(e/3600/24),s=Math.floor(e/3600)%24,l=Math.floor(e/60)%60,o=Math.floor(e%60),i="";if(o>0&&0==l&&0==s&&0==a)i=o+"秒前";else if(l>0&&0==s&&0==a)i=l+"分钟前";else{if(!(s>0&&0==a))return new Date(new Date(t).getTime()+288e5).toJSON().substr(0,16).replace("T"," ");i=s+"小时前"}return i},getMoreData1:function(t,e){console.log("1",t);var a=this,s=a.ReplyMyComments.length>0?a.ReplyMyComments[a.ReplyMyComments.length-1].created_time:new Date;a.$request("get","/user/getReplyMyComment",{timeToken:new Date(s).getTime()}).then(function(t){var s;n(t.data),(s=a.ReplyMyComments).push.apply(s,l()(t.data)),e.endSuccess(t.data.length)}).catch(function(t){console.log(t),e.endErr()})},getMoreData2:function(t,e){console.log("2",t);var a=this,s=a.ReplyMyPosts.length>0?a.ReplyMyPosts[a.ReplyMyPosts.length-1].created_time:new Date;a.$request("get","/user/getReplyMyPost",{timeToken:new Date(s).getTime()}).then(function(t){var s;n(t.data),(s=a.ReplyMyPosts).push.apply(s,l()(t.data)),e.endSuccess(t.data.length)}).catch(function(t){console.log(t),e.endErr()})},rightSlide:function(){0===this.tabs&&this.$router.go(-1)}},directives:{touch:i.a}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex flex-column px-0"},[a("v-app-bar",{staticClass:"top",attrs:{fixed:"",app:"",color:"white"}},[a("v-btn",{staticClass:"mt-2",attrs:{fab:"",text:"",small:""},on:{click:function(e){return t.$router.back(-1)}}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-arrow-left")])],1),t._v(" "),a("span",{staticClass:"text_middle mt-2"},[t._v("回复我的")])],1),t._v(" "),a("div",{staticClass:"main_container_replyMe",staticStyle:{"background-color":"#f5f5f5"}},[a("v-tabs",{attrs:{grow:""},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",[t._v("回复我的评论")]),t._v(" "),a("v-tab",[t._v("回复我的帖子")]),t._v(" "),a("v-tab-item",{directives:[{name:"touch",rawName:"v-touch:swiperight",value:t.rightSlide,expression:"rightSlide",arg:"swiperight"}],staticClass:"mescroll_container_replyMe",staticStyle:{"background-color":"#f5f5f5"}},[a("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown1,up:t.mescrollUp1}},[a("div",{attrs:{id:"noMoreDataWrap1"}}),t._v(" "),t._l(t.ReplyMyComments,function(e,s){return a("v-card",{key:s,staticClass:"mt-2",attrs:{color:"white",width:"100%",flat:"",rounded:""},on:{click:function(a){return t.$router.push({path:"/postDetail",query:{id:e.id}})}}},[a("v-card-text",{staticClass:"d-flex flex-column py-2"},[a("div",{staticClass:"d-flex"},[a("v-avatar",{staticClass:"ml-3 mb-1",attrs:{size:"40"}},[a("img",{attrs:{src:e.avatar,alt:"头像"}})]),t._v(" "),a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"text_small-- text_thick ml-2"},[t._v("#"+t._s(e.name))]),t._v(" "),a("span",{staticClass:"text_small--- ml-2 grey--text mt-n1"},[t._v(t._s(t.timeFormat(e.created_time)))])])],1),t._v(" "),a("div",[a("span",{staticClass:"text_thick black--text"},[t._v("【回复我】:")]),t._v(" "),e.commentDeleteId?a("span",{staticClass:"black--text text-decoration-line-through"},[t._v("已被删除")]):a("div",[1==e.filterLevel?a("span",{staticClass:"black--text text-decoration-line-through"},[t._v("已折叠")]):t._e(),t._v(" "),2==e.filterLevel?a("span",{staticClass:"black--text text-decoration-line-through"},[t._v("已屏蔽")]):t._e(),t._v(" "),0==e.filterLevel?a("span",{staticClass:"black--text"},[t._v(t._s(e.content))]):t._e()])]),t._v(" "),a("div",{staticClass:"grey_background_replyMe py-2 px-2 mb-1 d-flex flex-column"},[a("span",{staticClass:"ml-2 text_small---"},[t._v("【我】："+t._s(e.my_content))]),t._v(" "),void 0!=e.my_image&&"undefined"!=e.my_image?a("v-btn",{staticClass:"ml-2",attrs:{color:"grey",outlined:"",small:"",width:"84px",height:"24px",disabled:""}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-image")]),t._v(" "),a("span",{staticClass:"ml-n1"},[t._v("[图片]")])],1):t._e()],1),t._v(" "),a("span",{staticClass:"text_small-- black--text"},[a("span",{staticClass:"text_thick"},[t._v("【帖子】")]),t._v("\n                "+t._s(e.title)+"\n              ")])])],1)})],2)],1),t._v(" "),a("v-tab-item",{staticClass:"mescroll_container_replyMe",staticStyle:{"background-color":"#f5f5f5"}},[a("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown2,up:t.mescrollUp2}},[a("div",{attrs:{id:"noMoreDataWrap2"}}),t._v(" "),t._l(t.ReplyMyPosts,function(e,s){return a("v-card",{key:s,staticClass:"mt-2",attrs:{color:"white",width:"100%",flat:"",rounded:""},on:{click:function(a){return t.$router.push({path:"/postDetail",query:{id:e.id}})}}},[a("v-card-text",{staticClass:"d-flex flex-column py-2"},[a("div",{staticClass:"d-flex"},[a("v-avatar",{staticClass:"ml-3 mb-1",attrs:{size:"40"}},[a("img",{attrs:{src:e.avatar,alt:"头像"}})]),t._v(" "),a("div",{staticClass:"d-flex flex-column"},[a("span",{staticClass:"text_small-- text_thick ml-2"},[t._v("#"+t._s(e.name))]),t._v(" "),a("span",{staticClass:"text_small--- ml-2 grey--text mt-n1"},[t._v(t._s(t.timeFormat(e.created_time)))])])],1),t._v(" "),a("div",[a("span",{staticClass:"text_thick black--text"},[t._v("【回复我】:")]),t._v(" "),e.commentDeleteId?a("span",{staticClass:"black--text text-decoration-line-through"},[t._v("已被删除")]):a("div",[1==e.filterLevel?a("span",{staticClass:"black--text text-decoration-line-through"},[t._v("已折叠")]):t._e(),t._v(" "),2==e.filterLevel?a("span",{staticClass:"black--text text-decoration-line-through"},[t._v("已屏蔽")]):t._e(),t._v(" "),0==e.filterLevel?a("span",{staticClass:"black--text"},[t._v(t._s(e.content))]):t._e()])]),t._v(" "),a("div",{staticClass:"grey_background_replyMe py-2 px-2 mb-1 d-flex flex-column"},[a("span",{staticClass:"ml-2 text_small---"},[t._v("【我的帖子】："+t._s(e.title))])])])],1)}),t._v(" "),a("div",{staticClass:"d-flex justify-center mt-2",staticStyle:{"background-color":"white"}},[t.if_list_bottom2||t.atTop?t._e():a("v-progress-circular",{staticClass:"mt-1",attrs:{indeterminate:"",color:"primary"}}),t._v(" "),t.if_list_bottom2?a("span",[t._v("已经到底啦")]):t._e()],1)],2)],1)],1)],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(r,c,!1,function(t){a("UvYd")},null,null);e.default=m.exports}});
//# sourceMappingURL=14.e54ea8ac33fd0d261591.js.map