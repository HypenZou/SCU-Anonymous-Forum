webpackJsonp([2],{"+9dI":function(t,i,n){t.exports=n.p+"static/img/1.2a4e590.png"},"+Jdy":function(t,i,n){t.exports=n.p+"static/img/4.5db301c.png"},"2ZEU":function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n("lC5x"),a=n.n(e),s=n("J0Oq"),o=n.n(s),r=(n("CtzY"),n("vtXx")),l={name:"login",data:function(){var t=this;return{clientHeight:document.documentElement.clientHeight,loginIntroDialog:{show:!1,intro:[' <div class="mt-1"  >  <li >用户名默认为学号或者姓名全拼</li> <li>密码为自定义的6-18位密码</li> <li><strong class="">第一次使用邮箱需要激活，激活步骤请继续看下一张卡片</strong></li></div>','    <div class="mt-1"> <li>学校选择<strong>四川大学学生邮箱</strong></li> <li>默认密码为stu+身份证后六位</li> </div>',' <div class="mt-3"> <li>请绑定常用手机</li> </div>','   <div class="mt-3"> <li>设置密码后点击激活即可</li> </div>'],introImages:["../../static/images/loginIntro/1.png","../../static/images/loginIntro/2.png","../../static/images/loginIntro/3.png","../../static/images/loginIntro/4.png"]},loginProblem:{show:!1},ipProblemDialog:!1,email:"@stu.scu.edu.cn",code:"",oneMinuteInterval:!1,cnt:20,snackbar:{show:!1,message:"",color:""},filter:function(i){return!(!/^([0-9_\-\.\u4e00-\u9fa5])+@stu.scu.edu.cn/.test(i)&&!t.whiteList.includes(i))||"邮箱不合法"},whiteList:[],secretDialog:!1}},created:function(){var t=this;t.$request("get","/user/getWhiteList",{},{}).then(function(i){t.whiteList=i.data.map(function(t){return t.email})}),setTimeout(function(){t.secretDialog=!0},600)},mounted:function(){var t=this;window.onresize=function(){t.clientHeight=document.documentElement.clientHeight}},methods:{registerWithEmail:function(){var t=this,i=this;Object(r.a)(this.code)?i.showSnackbar("验证码不能为空"):i.$request("post","/user/registerWithEmail",{},{email:i.email,code:i.code}).then(function(n){i.showSnackbar(n,"ok"),localStorage.setItem("token",n.data),setTimeout(o()(a.a.mark(function n(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.$router.replace("/main/index");case 1:case"end":return t.stop()}},n,t)})),1e3)}).catch(function(t){i.showSnackbar(t)})},getCode:function(){var t=this,i=this;if("邮箱不合法"!=this.filter(this.email)){i.$request("post","/user/getCode",{},{email:this.email}).then(function(t){i.showSnackbar(t||"验证码已发送到邮箱,请查收","ok")}).catch(function(t){i.showSnackbar(t)}),this.oneMinuteInterval=!0;var n=setInterval(function(){t.cnt--,0==t.cnt&&(t.oneMinuteInterval=!1,clearInterval(n),t.cnt=20)},1e3)}else i.showSnackbar("邮箱不合法")},toSCUMail:function(){window.open("http://mail.stu.scu.edu.cn/coremail/index.jsp?nodetect=true","_system",{})},secretDialogConfirm:function(t){t?this.secretDialog=!1:(this.showSnackbar("感谢使用,即将退出程序","ok"),setTimeout(function(){navigator.app.exitApp()},1800))}},watch:{ipProblemDialog:function(t){this.$store.change_dialog(t,"ipProblemDialog")},"$store.state.dialog":function(t){"ipProblemDialog"==this.$store.state.dialogName&&(this.ipProblemDialog=t)}}},c={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-container",{staticClass:"d-flex justify-center align-center",attrs:{"fill-height":""}},[e("v-card",{class:t.$vuetify.breakpoint.xsOnly?"login_card-xs":"login_card",attrs:{flat:""}},[e("v-text-field",{attrs:{label:"输入川大学生邮箱","prepend-icon":"mdi-email-box",rules:[t.filter]},scopedSlots:t._u([{key:"append",fn:function(){return[e("v-btn",{staticClass:"mb-1",attrs:{color:"primary",small:"",text:""},on:{click:function(i){i.stopPropagation(),t.loginIntroDialog.show=!0}}},[e("span",[t._v("邮箱激活指南")])])]},proxy:!0}]),model:{value:t.email,callback:function(i){t.email=i},expression:"email"}}),t._v(" "),e("div",{staticClass:"d-flex"},[e("v-text-field",{attrs:{label:"输入验证码","prepend-icon":"mdi-barcode"},scopedSlots:t._u([{key:"append",fn:function(){return[t.oneMinuteInterval?t._e():e("v-btn",{staticClass:"pb-2",attrs:{color:"primary",small:"",text:""},on:{click:t.getCode}},[t._v("点击获取验证码")]),t._v(" "),t.oneMinuteInterval?e("v-btn",{staticClass:"pb-2",attrs:{color:"primary",small:"",text:"",disabled:""}},[t._v(t._s(t.cnt)+"秒后重发")]):t._e()]},proxy:!0}]),model:{value:t.code,callback:function(i){t.code=i},expression:"code"}}),t._v(" "),e("v-btn",{staticClass:"mt-4",attrs:{color:"primary",icon:"",small:""},on:{click:function(i){t.loginProblem.show=!0}}},[e("v-icon",[t._v("mdi-help-circle-outline")])],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary",outlined:""}},[e("span",{staticClass:"text_xsmall",on:{click:t.toSCUMail}},[t._v("前往四川大学邮箱")])]),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.registerWithEmail}},[e("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-right-bold-circle")]),t._v(" "),e("span",{staticClass:"pr-2"},[t._v("登陆")])],1)],1),t._v(" "),e("div",{staticClass:"d-flex flex-column mt-6 mt-md-8 text_small--- mx-auto",staticStyle:{width:"86%"}},[e("span",{staticClass:"mx-auto text_small- text_thick"},[t._v("登陆常见问题")]),t._v(" "),e("span",{staticClass:"mx-0"},[e("strong",[t._v("\n          概述:\n          "),e("br"),t._v("我们通过给您川大邮箱发送验证码邮件来验证您是否为川大学生，为了限制每个人一个账号，在登陆本app时限制邮箱为:学号+@stu.scu.edu.cn格式。\n        ")])]),t._v(" "),e("li",{staticClass:"mx-0"},[t._v("用户名和密码是什么?")]),t._v(" "),e("span",{staticClass:"ml-5"},[t._v("答: 用户名限制使用学号+@stu.scu.edu.cn方式登陆;密码为激活邮箱时自定义6-18位密码。")]),t._v(" "),e("li",{staticClass:"mx-0"},[t._v("第一次使用邮箱如何激活?")]),t._v(" "),e("span",{staticClass:"ml-5"},[t._v("答: 点击上面“邮箱激活指南”查看")]),t._v(" "),e("li",{staticClass:"mx-0"},[t._v("为什么我收不到邮件?")]),t._v(" "),e("span",{staticClass:"ml-5"},[t._v("答: 请检查邮箱名是否正确，并查看垃圾箱中有无邮件")])])],1),t._v(" "),e("v-snackbar",{attrs:{top:"",color:t.snackbar.color},scopedSlots:t._u([{key:"action",fn:function(i){var n=i.attrs;return[e("v-btn",t._b({attrs:{color:"white",text:""},on:{click:function(i){t.snackbar.show=!1}}},"v-btn",n,!1),[t._v("Close")])]}}]),model:{value:t.snackbar.show,callback:function(i){t.$set(t.snackbar,"show",i)},expression:"snackbar.show"}},[t._v("\n    "+t._s(t.snackbar.message)+"\n    ")]),t._v(" "),e("v-dialog",{attrs:{scrollable:"",overlay:!1,"max-width":"500px",transition:"dialog-transition",dark:""},model:{value:t.loginIntroDialog.show,callback:function(i){t.$set(t.loginIntroDialog,"show",i)},expression:"loginIntroDialog.show"}},[e("v-card",{staticStyle:{"background-color":"#363636"}},[e("v-card-title",[e("v-icon",[t._v("mdi-login")]),t._v(" "),e("span",{staticClass:"ml-1"},[t._v("邮箱激活指南")])],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",{staticClass:"mt-1"},[e("v-carousel",{attrs:{cycle:"",height:"400","hide-delimiter-background":"","show-arrows-on-hover":""}},t._l(t.loginIntroDialog.intro,function(i,a){return e("v-carousel-item",{key:a},[e("v-img",{attrs:{src:n("8vIY")("./"+(a+1)+".png"),contain:"","max-height":"300px"}}),t._v(" "),e("div",{domProps:{innerHTML:t._s(i)}})],1)}),1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{scrollable:"",overlay:!1,"max-width":"500px",transition:"dialog-transition",dark:""},model:{value:t.loginProblem.show,callback:function(i){t.$set(t.loginProblem,"show",i)},expression:"loginProblem.show"}},[e("v-card",{staticStyle:{"background-color":"#363636"}},[e("v-card-title",[e("v-icon",[t._v("mdi-help-circle-outline")]),t._v(" "),e("span",{staticClass:"ml-2"},[t._v("登陆常见问题")])],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",{staticClass:"mt-1"},[e("div",[e("li",[e("strong",[t._v("Q：收不到验证码怎么办？")])]),t._v(" "),e("span",[t._v("A：请检查邮箱名是否输入正确，如果正确，请多刷新几次，检查邮件垃圾箱中是否有验证码。")]),t._v(" "),e("li",[e("strong",[t._v("Q：邮箱无法登陆？")])]),t._v(" "),e("span",[t._v("A：请确认四川大学邮箱是否激活了，如果没有激活，请按照“邮箱输入栏”中的“邮箱激活指南”步骤激活邮箱")])])])],1)],1),t._v(" "),e("v-dialog",{attrs:{scrollable:"",fullscreen:"",persistent:"","max-width":"500px",transition:"dialog-bottom-transition",dark:""},model:{value:t.secretDialog,callback:function(i){t.secretDialog=i},expression:"secretDialog"}},[e("v-card",{staticStyle:{"background-color":"#363636"}},[e("v-card-title",[e("span",[t._v("隐私协议")])]),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("p",{staticClass:"mt-3"},[t._v("欢迎来到『火锅底料』。")]),t._v(" "),e("p",[t._v("\n          请您仔细阅读以下条款,若干您对本协议的任何条款表示异议,您可以选择不进入『火锅底料』。当您注册成功，无论是进入\n          『火锅底料』，还是在『火锅底料』上发布任何内容（即『内容』），均意味着您（即『用户』）完全接受本协议项下的全部条款\n        ")]),t._v(" "),e("li",[t._v("您可以使用四川大学邮箱登陆『火锅底料』，并将其作为您的用户账号，用户应当对其用户账号进行的所有活动和事件负法律责任")]),t._v(" "),e("li",[t._v("\n          用户须对在『火锅底料』上的注册信息的真实性、合法性、有效性承担全部责任，用户不得冒充他人；不得恶意使用注册账号导致其他用户误认\n          否则『火锅底料』有权立即停止提供服务，收回其账号并由用户独自承担由此而产生的一切法律责任\n        ")]),t._v(" "),e("li",[t._v("\n          用户直接或通过各类方式间接使用『火锅底料』服务和数据的行为，都将被视作已无条件接受本协议全部内容；若用户对本协议的任何条款\n          存在任何异议，请停止使用『火锅底料』所提供的全部服务\n        ")]),t._v(" "),e("li",[t._v("用户承诺不得以任何方式利用『火锅底料』直接或间接从事违反中国法律的行为，『火锅底料』有权对违反上述承诺的内容予以删除")]),t._v(" "),e("li",[t._v("用户不得利用『火锅底料』服务制作、上载、复制、发布、传播或者转载如下内容：")]),t._v(" "),e("ul",[e("li",{attrs:{type:"circle"}},[t._v("反对宪法所确定的基本原则的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家同一的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("损害国家荣誉和利益的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("煽动民族仇恨、民族歧视、破坏民族团结的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("侮辱、滥用英烈形象、否定英烈事迹、美化粉饰侵略战争行为的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("破坏国家宗教政策，宣扬邪教和封建迷信的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("散步谣言，扰乱社会秩序，破坏社会稳定的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("侮辱或者诽谤他人，侵害他人合法权益的；")]),t._v(" "),e("li",{attrs:{type:"circle"}},[t._v("含有法律、行政法规禁止的其他内容的信息。")])]),t._v(" "),e("br"),t._v(" "),e("p",[t._v("\n          『火锅底料』有权对用户使用『火锅底料』的情况进行审查和监督。如果用户在使用『火锅底料』时违反上述任何规定\n          ，『火锅底料』或其授权的人有权要求用户改正或直接采取一切必要的措施（包括但不限于更改或者删除用户张贴的内容、暂停\n          或终止用户使用『火锅底料』的权利），以减轻用户不当行为造成的影响。当然，在大多数情况下，我们避免对用户所发布内容进行任何意义上的干预。\n        ")])]),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"float-right",attrs:{color:"primary"},on:{click:function(i){return t.secretDialogConfirm(!0)}}},[t._v("同意")]),t._v(" "),e("v-btn",{staticClass:"float-right",attrs:{color:"primary",outlined:""},on:{click:function(i){return t.secretDialogConfirm(!1)}}},[t._v("不同意")])],1)],1)],1)],1)},staticRenderFns:[]};var v=n("C7Lr")(l,c,!1,function(t){n("ttmQ")},null,null);i.default=v.exports},"8vIY":function(t,i,n){var e={"./1.png":"+9dI","./2.png":"uKqF","./3.png":"FXn6","./4.png":"+Jdy","./icon-1024.png":"cI6P"};function a(t){return n(s(t))}function s(t){var i=e[t];if(!(i+1))throw new Error("Cannot find module '"+t+"'.");return i}a.keys=function(){return Object.keys(e)},a.resolve=s,t.exports=a,a.id="8vIY"},FXn6:function(t,i,n){t.exports=n.p+"static/img/3.2d04cb8.png"},cI6P:function(t,i,n){t.exports=n.p+"static/img/icon-1024.4d628c3.png"},ttmQ:function(t,i){},uKqF:function(t,i,n){t.exports=n.p+"static/img/2.fc6016b.png"},vtXx:function(t,i,n){"use strict";i.a=function(t){if(""==t)return!0;return new RegExp("^[ ]+$").test(t)}}});
//# sourceMappingURL=2.1a65698d150db2c3bbcc.js.map