webpackJsonp([9],{"BM+Y":function(t,e){},YGle:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("IHPB"),r=s.n(a),n=s("wst3"),o=s("0T5Q"),i={name:"historyComments",components:{MescrollVue:n.a},data:function(){return{mescrollDown:{callback:this.refreshData},mescrollUp:{callback:this.getMoreData,noMoreSize:3,empty:{warpId:"noMoreDataWrap",icon:null,tip:"暂无历史评论",btntext:"",btnClick:null,supportTap:!1}},historyComments:[]}},methods:{timeFormat:function(t){var e=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3),s=Math.floor(e/3600/24),a=Math.floor(e/3600)%24,r=Math.floor(e/60)%60,n=Math.floor(e%60),o="";if(n>0&&0==r&&0==a&&0==s)o=n+"秒前";else if(r>0&&0==a&&0==s)o=r+"分钟前";else{if(!(a>0&&0==s))return new Date(new Date(t).getTime()+288e5).toJSON().substr(0,16).replace("T"," ");o=a+"小时前"}return o},refreshData:function(t){var e=this;e.$request("get","/user/getHistoryComments",{}).then(function(s){console.log(s),e.historyComments=s.data,t.endSuccess()}).catch(function(e){console.log(e),t.endErr()})},getMoreData:function(t,e){var s=this,a=s.historyComments.length>0?new Date(s.historyComments[s.historyComments.length-1].created_time).getTime():(new Date).getTime();s.$request("get","/user/getHistoryComments",{timeToken:a}).then(function(a){var n;1===t.num&&(s.historyComments=[]),(n=s.historyComments).push.apply(n,r()(a.data)),e.endSuccess(a.data.length)}).catch(function(t){console.log(t),e.endErr()})},rightSlide:function(){this.$router.go(-1)}},directives:{touch:o.a}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"d-flex flex-column px-0"},[s("v-app-bar",{staticClass:"top",attrs:{fixed:"",app:"",color:"white"}},[s("v-btn",{staticClass:"mt-2",attrs:{fab:"",text:"",small:""},on:{click:function(e){return t.$router.back(-1)}}},[s("v-icon",{attrs:{large:""}},[t._v("mdi-arrow-left")])],1),t._v(" "),s("span",{staticClass:"text_middle mt-2"},[t._v("历史评论")])],1),t._v(" "),s("div",{directives:[{name:"touch",rawName:"v-touch:swiperight",value:t.rightSlide,expression:"rightSlide",arg:"swiperight"}],staticClass:"mescroll_container_historyComments",staticStyle:{"background-color":"#f5f5f5"}},[s("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp}},[s("div",{attrs:{id:"noMoreDataWrap"}}),t._v(" "),t._l(t.historyComments,function(e,a){return s("v-card",{key:a,staticClass:"mt-2",attrs:{color:"white",width:"100%",flat:"",rounded:""},on:{click:function(s){return t.$router.push({path:"/postDetail",query:{id:e.postId}})}}},[s("v-card-text",{staticClass:"d-flex flex-column py-2"},[s("div",{staticClass:"d-flex"},[s("v-avatar",{staticClass:"ml-3 mb-1",attrs:{size:"40"}},[s("img",{attrs:{src:e.avatar,alt:"头像"}})]),t._v(" "),s("div",{staticClass:"d-flex flex-column"},[s("span",{staticClass:"text_small-- text_thick ml-2"},[t._v("#"+t._s(e.name))]),t._v(" "),s("span",{staticClass:"text_small--- ml-2 grey--text mt-n1"},[t._v(t._s(t.timeFormat(e.created_time)))])])],1),t._v(" "),s("div",[s("span",{staticClass:"text_thick black--text"},[t._v("【我的回复】:")]),t._v(" "),s("span",{staticClass:"black--text"},[t._v(t._s(e.content))]),t._v(" "),e.image?s("span",[s("span",{staticClass:"ml-2"},[t._v("[图片]")])]):t._e()]),t._v(" "),s("span",{staticClass:"text_small-- black--text grey_background_historyComments pa-1"},[s("span",{staticClass:"text_thick"},[t._v("【帖子】")]),t._v("\n            "+t._s(e.title)+"\n          ")])])],1)})],2)],1)],1)},staticRenderFns:[]};var c=s("C7Lr")(i,l,!1,function(t){s("BM+Y")},null,null);e.default=c.exports}});
//# sourceMappingURL=9.9f8e0c08bd9a414caf13.js.map